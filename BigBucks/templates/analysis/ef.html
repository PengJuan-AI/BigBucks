{% extends 'base1.html' %}

{% block title %}Efficient Frontier{% endblock %}

{% block main_body %}
<div class="box">
    <div class="col-md-8 middle-box">
        <div class="box box-warning">
            <div class="box-header with-border text-center">
                <h3 class="box-title"><strong>Efficient Frontier</strong></h3>
            </div>
            <div class="row">
                <div class="col-sm-4 text-center">
                    <h5>Portfolio Return</h5>
                    <input name="rtn" class="form-control" value="{{ info['port_return'] }}" readonly>
                </div>
                <div class="col-sm-4 text-center">
                    <h5>Portfolio Volatility</h5>
                    <input name="vol" class="form-control" value="{{ info['port_vol'] }}" readonly>
                </div>
                <div class="col-sm-4 text-center">
                    <h5>Sharpe Ratio</h5>
                    <input name="sharpe" class="form-control" value="{{ info['sharpe'] }}" readonly>
                </div>
            </div>

            <!-- for efficient frontier -->
            <div id="ef" class="container-fluid text-center">
                {% if error %}
                <div style="color:red">{{ error }}</div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.min.js"></script>

<script>
    var chart = document.getElementById("ef");
    var data = {{ ef['risk_return'] |safe }};
    console.log(data)
    var option = {
        title: {
            text: 'Efficient Frontier',
            left: 'center'
        },
        legend: {
            bottom: 5
        },
        xAxis: {},
        yAxis: {},
        series: [
            {
                name: "Efficient Frontier",
                symbolSize: 20,
                data: data,
                type: 'scatter'
            }
        ]
    };
    option && chart.setOption(option);

</script>
{% endblock %}
